{"version":3,"sources":["webpack:///./src/application/Search/index.jsx","webpack:///./src/application/Search/singer.png","webpack:///./src/application/Search/style.js","webpack:///./src/application/SongList/style.js","webpack:///./src/baseUI/music-note/index.js","webpack:///./src/baseUI/search-box/index.js","webpack:///./src/utils/EnterLoading.js"],"names":["Search","props","useState","show","setShow","query","setQuery","hotList","suggestList","songsList","enterLoading","songsCount","getHotKeyWordsDispatch","getSuggestListDispatch","getSongsDetailDispatch","musicNoteRef","useRef","suggests","toJS","songs","useEffect","size","handleQuery","q","renderHotKey","list","map","item","first","renderSingers","singers","artists","length","index","id","enterDetail","singerLazyLoadImg","picUrl","name","selectItem","e","current","startAnimation","x","nativeEvent","clientX","y","clientY","renderSongs","isEmptyObject","paddingLeft","ar","getName","al","album","handleHeaderGoBack","useCallback","history","goBack","forceCheck","mapStateToProps","state","getIn","mapDispatchToProps","dispatch","getHotKeyWords","getSuggestList","getSongsDetail","connect","React","memo","Container","Styled","div","play","ShortcutWrapper","shows","HotKey","style","List","ListItem","SongList","SongItem","ul","MusicNote","forwardRef","ref","iconsRef","ICON_NUMBER","createNode","txt","template","tempNode","document","createElement","innerHTML","firstChild","i","node","appendChild","domArray","slice","call","children","forEach","running","addEventListener","icon","querySelector","left","top","display","setTimeout","useImperativeHandle","SearchBoxWrapper","SearchBox","handleClick","newQuery","displayStyle","queryRef","value","clearQuery","focus","handleChange","target","handleQueryDebounce","useMemo","debounce","EnterLoading"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASA,MAAT,CAAgBC,KAAhB,EAAuB;AAAA,kBACGC,sDAAQ,CAAC,KAAD,CADX;AAAA;AAAA,MACdC,IADc;AAAA,MACRC,OADQ;;AAAA,mBAEKF,sDAAQ,CAAC,EAAD,CAFb;AAAA;AAAA,MAEdG,KAFc;AAAA,MAEPC,QAFO;;AAAA,MAGbC,OAHa,GAGiDN,KAHjD,CAGbM,OAHa;AAAA,MAGJC,WAHI,GAGiDP,KAHjD,CAGJO,WAHI;AAAA,MAGSC,SAHT,GAGiDR,KAHjD,CAGSQ,SAHT;AAAA,MAGoBC,YAHpB,GAGiDT,KAHjD,CAGoBS,YAHpB;AAAA,MAGkCC,UAHlC,GAGiDV,KAHjD,CAGkCU,UAHlC;AAAA,MAIbC,sBAJa,GAI8DX,KAJ9D,CAIbW,sBAJa;AAAA,MAIWC,sBAJX,GAI8DZ,KAJ9D,CAIWY,sBAJX;AAAA,MAIkCC,sBAJlC,GAI8Db,KAJ9D,CAIkCa,sBAJlC;AAMrB,MAAMC,YAAY,GAAGC,oDAAM,EAA3B;AAEA,MAAMC,QAAQ,GAAGT,WAAW,CAACU,IAAZ,EAAjB;AACA,MAAMC,KAAK,GAAGV,SAAS,CAACS,IAAV,EAAd;AACAE,yDAAS,CAAC,YAAM;AACdhB,WAAO,CAAC,IAAD,CAAP;;AACA,QAAI,CAACG,OAAO,CAACc,IAAb,EAAmB;AACjBT,4BAAsB;AACvB;AACF,GALQ,EAKN,EALM,CAAT;;AAOA,MAAMU,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAO;AACzBjB,YAAQ,CAACiB,CAAD,CAAR;;AACA,QAAI,CAACA,CAAL,EAAQ;AACN;AACD;;AACDV,0BAAsB,CAACU,CAAD,CAAtB;AAED,GAPD;;AAQA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,QAAMC,IAAI,GAAGlB,OAAO,GAAGA,OAAO,CAACW,IAAR,EAAH,GAAoB,EAAxC;AACA,wBAEE,uEAEIO,IAAI,CAACC,GAAL,CAAS,UAAAC,IAAI;AAAA,0BACX;AAAI,iBAAS,EAAC,aAAd;AAA4B,WAAG,EAAEA,IAAI,CAACC,KAAtC;AAA6C,eAAO,EAAE;AAAA,iBAAMtB,QAAQ,CAACqB,IAAI,CAACC,KAAN,CAAd;AAAA;AAAtD,sBACE,yEAAOD,IAAI,CAACC,KAAZ,CADF,CADW;AAAA,KAAb,CAFJ,CAFF;AAYD,GAdD;;AAeA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,QAAIC,OAAO,GAAGb,QAAQ,CAACc,OAAvB;;AACA,QAAI,CAACD,OAAD,IAAY,CAACA,OAAO,CAACE,MAAzB,EAAiC;AAC/B;AACD;;AACD,wBACE,2DAAC,2CAAD,qBACE;AAAI,eAAS,EAAC;AAAd,kCADF,EAGIF,OAAO,CAACJ,GAAR,CAAY,UAACC,IAAD,EAAOM,KAAP,EAAiB;AAC3B,0BACE,2DAAC,+CAAD;AAAU,WAAG,EAAEN,IAAI,CAACO,EAApB;AAAwB,iBAAS,EAAC,eAAlC;AAAkD,eAAO,EAAE;AAAA,iBAAMC,WAAW,CAACR,IAAI,CAACO,EAAN,CAAjB;AAAA;AAA3D,sBACE;AAAK,iBAAS,EAAC;AAAf,sBACE,2DAAC,qDAAD;AAAU,mBAAW,eAAE;AAAK,aAAG,EAAEE,oDAAV;AAA6B,aAAG,EAAC,cAAjC;AAAsC,eAAK,EAAC,MAA5C;AAAmD,gBAAM,EAAC;AAA1D;AAAvB,sBACE;AAAK,WAAG,YAAKT,IAAI,CAACU,MAAV,mBAAR;AAA0C,aAAK,EAAC,MAAhD;AAAuD,cAAM,EAAC,MAA9D;AAAqE,WAAG,EAAC;AAAzE,QADF,CADF,CADF,eAME;AAAM,iBAAS,EAAC;AAAhB,4BAA6BV,IAAI,CAACW,IAAlC,CANF,CADF;AAUD,KAXD,CAHJ,CADF;AAmBD,GAxBD;;AA2BA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,CAAD,EAAIN,EAAJ,EAAW;AAC5BpB,0BAAsB,CAACoB,EAAD,CAAtB;AACAnB,gBAAY,CAAC0B,OAAb,CAAqBC,cAArB,CAAoC;AAACC,OAAC,EAAGH,CAAC,CAACI,WAAF,CAAcC,OAAnB;AAA4BC,OAAC,EAAGN,CAAC,CAACI,WAAF,CAAcG;AAA9C,KAApC;AACD,GAHD;;AAKA,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,QAAIC,4DAAa,CAAC9B,KAAD,CAAb,IAAwB,CAACA,KAAK,CAACA,KAAN,CAAYa,MAAzC,EAAiD;AAC/C;AACD;;AACD,QAAMP,IAAI,GAAGN,KAAK,CAACA,KAAnB;AACA,wBACE,2DAAC,mEAAD;AAAU,WAAK,EAAE;AAAE+B,mBAAW,EAAE;AAAf;AAAjB,OAGIzB,IAAI,CAACC,GAAL,CAAS,UAACC,IAAD,EAAOM,KAAP;AAAA,0BACP;AAAI,WAAG,EAAEN,IAAI,CAACO,EAAd;AAAkB,eAAO,EAAE,iBAACM,CAAD;AAAA,iBAAOD,UAAU,CAACC,CAAD,EAAIb,IAAI,CAACO,EAAT,CAAjB;AAAA;AAA3B,sBACE;AAAK,iBAAS,EAAC;AAAf,sBACE,yEAAOP,IAAI,CAACW,IAAZ,CADF,eAEE,yEACGX,IAAI,CAACwB,EAAL,GAAUC,sDAAO,CAACzB,IAAI,CAACwB,EAAN,CAAjB,GAA6BC,sDAAO,CAACzB,IAAI,CAACI,OAAN,CADvC,SAC0DJ,IAAI,CAAC0B,EAAL,GAAU1B,IAAI,CAAC0B,EAAL,CAAQf,IAAlB,GAAyBX,IAAI,CAAC2B,KAAL,CAAWhB,IAD9F,CAFF,CADF,CADO;AAAA,KAAT,CAHJ,CADF;AAkBD,GAvBD;;AAwBA,MAAMiB,kBAAkB,GAAGC,yDAAW,CAAC,YAAM;AAC3CpD,WAAO,CAAC,KAAD,CAAP;AACD,GAFqC,EAEnC,EAFmC,CAAtC;AAGA,sBACE,2DAAC,oEAAD;AACE,UAAID,IADN;AAEE,WAAO,EAAE,GAFX;AAGE,UAAM,EAAE,IAHV;AAIE,cAAU,EAAC,KAJb;AAKE,iBAAa,MALf;AAME,UAAM,EAAE;AAAA,aAAMF,KAAK,CAACwD,OAAN,CAAcC,MAAd,EAAN;AAAA;AANV,kBAQE,2DAAC,gDAAD;AAAW,QAAI,EAAE/C;AAAjB,kBAEE;AAAK,aAAS,EAAC;AAAf,kBACE,2DAAC,yDAAD;AACE,eAAW,EAAE4C,kBADf;AAEE,YAAQ,EAAElD,KAFZ;AAGE,eAAW,EAAEiB;AAHf,IADF,CAFF,EASGZ,YAAY,gBAAG,2DAAC,2DAAD,qBAAc,2DAAC,uDAAD,OAAd,CAAH,gBACX,qIACE,2DAAC,sDAAD;AAAiB,SAAK,EAAE,CAACL;AAAzB,kBACE,2DAAC,qDAAD,qBACE,qFACE,2DAAC,6CAAD;AAAQ,aAAS,EAAC;AAAlB,kBACE;AAAI,aAAS,EAAC;AAAd,gCADF,EAEGmB,YAAY,EAFf,CADF,CADF,CADF,CADF,eAWE,2DAAC,sDAAD;AAAiB,SAAK,EAAEnB;AAAxB,kBACE,2DAAC,qDAAD;AAAQ,YAAQ,EAAEsD,yDAAUA;AAA5B,kBACE,wEACG9B,aAAa,EADhB,EAGGmB,WAAW,EAHd,CADF,CADF,CAXF,CAVJ,eAgCE,2DAAC,0DAAD;AAAW,OAAG,EAAEjC;AAAhB,IAhCF,CARF,CADF;AA6CD;;AAED,IAAM6C,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAChCtD,WAAO,EAAEsD,KAAK,CAACC,KAAN,CAAY,CAAC,QAAD,EAAW,SAAX,CAAZ,CADuB;AAEhCtD,eAAW,EAAEqD,KAAK,CAACC,KAAN,CAAY,CAAC,QAAD,EAAW,aAAX,CAAZ,CAFmB;AAGhCrD,aAAS,EAAEoD,KAAK,CAACC,KAAN,CAAY,CAAC,QAAD,EAAW,WAAX,CAAZ,CAHqB;AAIhCpD,gBAAY,EAAEmD,KAAK,CAACC,KAAN,CAAY,CAAC,QAAD,EAAW,cAAX,CAAZ,CAJkB;AAKhCnD,cAAU,EAAGkD,KAAK,CAACC,KAAN,CAAY,CAAC,QAAD,EAAW,UAAX,CAAZ,EAAoCzC;AALjB,GAAL;AAAA,CAA7B;;AAOA,IAAM0C,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAAK;AACtCpD,0BADsC,oCACb;AACvBoD,cAAQ,CAACC,2EAAc,EAAf,CAAR;AACD,KAHqC;AAItCpD,0BAJsC,kCAIfR,KAJe,EAIR;AAC5B2D,cAAQ,CAACE,2EAAc,CAAC7D,KAAD,CAAf,CAAR;AACD,KANqC;AAOtCS,0BAPsC,kCAOfoB,EAPe,EAOZ;AACxB8B,cAAQ,CAACG,mFAAc,CAACjC,EAAD,CAAf,CAAR;AACD;AATqC,GAAL;AAAA,CAAnC;;AAWekC,0HAAO,CAACR,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CM,4CAAK,CAACC,IAAN,CAAWtE,MAAX,CAA7C,CAAf,E;;;;;;;;;;;;ACnLA;AAAe,oFAAuB,6BAA6B,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAnE;AACA;AAGO,IAAMuE,SAAS,GAAGC,yDAAM,CAACC,GAAV,oBAWT,UAAAxE,KAAK;AAAA,SAAIA,KAAK,CAACyE,IAAN,GAAa,CAAb,GAAiB,OAAjB,GAA2B,CAA/B;AAAA,CAXI,CAAf;AA+BA,IAAMC,eAAe,GAAGH,yDAAM,CAACC,GAAV,qBAKd,UAAAxE,KAAK;AAAA,SAAIA,KAAK,CAAC2E,KAAN,GAAc,EAAd,GAAmB,MAAvB;AAAA,CALS,CAArB;AAOA,IAAMC,MAAM,GAAGL,yDAAM,CAACC,GAAV,qBAOFK,2DAAK,CAAC,aAAD,CAPH,EAeDA,2DAAK,CAAC,4BAAD,CAfJ,EAgBFA,2DAAK,CAAC,aAAD,CAhBH,EAiBNA,2DAAK,CAAC,iBAAD,CAjBC,CAAZ;AAwBA,IAAMC,IAAI,GAAGP,yDAAM,CAACC,GAAV,qBAQAK,2DAAK,CAAC,aAAD,CARL,CAAV;AAWA,IAAME,QAAQ,GAAGR,yDAAM,CAACC,GAAV,qBAOQK,2DAAK,CAAC,cAAD,CAPb,EAkBHA,2DAAK,CAAC,aAAD,CAlBF,EAmBPA,2DAAK,CAAC,iBAAD,CAnBE,CAAd,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7EP;AACA;AAEO,IAAMG,QAAQ,GAAGT,yDAAM,CAACC,GAAV,oBAYMK,2DAAK,CAAC,cAAD,CAZX,EAgBNA,2DAAK,CAAC,iBAAD,CAhBC,EA4BJA,2DAAK,CAAC,oBAAD,CA5BD,EAyCNA,2DAAK,CAAC,kBAAD,CAzCC,CAAd;AAyDA,IAAMI,QAAQ,GAAGV,yDAAM,CAACW,EAAV,qBAsBSL,2DAAK,CAAC,cAAD,CAtBd,EAgCDA,2DAAK,CAAC,iBAAD,CAhCJ,EAoCDA,2DAAK,CAAC,oBAAD,CApCJ,CAAd,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5DP;AACA;AACA;AACA,IAAMP,SAAS,GAAGC,yDAAM,CAACC,GAAV,oBAMFK,2DAAK,CAAC,aAAD,CANH,CAAf;AAgBA,IAAMM,SAAS,GAAGC,wDAAU,CAAC,UAACpF,KAAD,EAAQqF,GAAR,EAAgB;AAC3C,MAAMC,QAAQ,GAAGvE,oDAAM,EAAvB;AAEA,MAAMwE,WAAW,GAAG,EAApB;AAEA;;;;AAGA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAS;AAC1B;AACA,QAAMC,QAAQ,uCAAgCD,GAAhC,WAAd,CAF0B,CAG1B;;AACA,QAAIE,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf;AACAF,YAAQ,CAACG,SAAT,GAAqBJ,QAArB,CAL0B,CAM1B;;AACA,WAAOC,QAAQ,CAACI,UAAhB;AACD,GARD;AAUF;;;;;AAGE5E,yDAAS,CAAC,YAAM;AACd;AACA,SAAK,IAAI6E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,WAApB,EAAiCS,CAAC,EAAlC,EAAsC;AACpC;AACA,UAAIC,IAAI,GAAGT,UAAU,0CAArB,CAFoC,CAGpC;;AACAF,cAAQ,CAAC9C,OAAT,CAAiB0D,WAAjB,CAA6BD,IAA7B;AACD,KAPa,CAQd;;;AACA,QAAIE,QAAQ,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcf,QAAQ,CAAC9C,OAAT,CAAiB8D,QAA/B,CAAf,CATc,CAUd;;AACAH,YAAQ,CAACI,OAAT,CAAiB,UAAA7E,IAAI,EAAI;AACvB;AACAA,UAAI,CAAC8E,OAAL,GAAe,KAAf,CAFuB,CAGvB;;AACA9E,UAAI,CAAC+E,gBAAL,CAAsB,eAAtB,EAAuC,YAAY;AACjD;AACA,aAAK5B,KAAL,CAAW,SAAX,IAAwB,MAAxB,CAFiD,CAGjD;;AACA,aAAKA,KAAL,CAAW,WAAX,2BAJiD,CAKjD;;AACA,aAAK2B,OAAL,GAAe,KAAf;AAEA,YAAIE,IAAI,GAAG,KAAKC,aAAL,CAAmB,KAAnB,CAAX,CARiD,CASjD;;AACAD,YAAI,CAAC7B,KAAL,CAAW,WAAX;AACD,OAXD,EAWG,KAXH;AAYD,KAhBD;AAiBD,GA5BQ,EA4BN,EA5BM,CAAT;AA+BA;;;;AAGA,MAAMpC,cAAc,GAAG,SAAjBA,cAAiB,OAAY;AAAA,QAAVC,CAAU,QAAVA,CAAU;AAAA,QAAPG,CAAO,QAAPA,CAAO;;AAAA,+BACzBmD,CADyB;AAE/B,UAAIG,QAAQ,GAAG,GAAGC,KAAH,CAASC,IAAT,CAAcf,QAAQ,CAAC9C,OAAT,CAAiB8D,QAA/B,CAAf;AACA,UAAI5E,IAAI,GAAGyE,QAAQ,CAACH,CAAD,CAAnB,CAH+B,CAI/B;;AACA,UAAItE,IAAI,CAAC8E,OAAL,KAAiB,KAArB,EAA4B;AAC1B9E,YAAI,CAACmD,KAAL,CAAW+B,IAAX,GAAkBlE,CAAC,GAAG,GAAJ,GAAU,KAA5B;AACAhB,YAAI,CAACmD,KAAL,CAAWgC,GAAX,GAAiBhE,CAAC,GAAG,GAAJ,GAAU,KAA3B;AACAnB,YAAI,CAACmD,KAAL,CAAWiC,OAAX,GAAqB,cAArB;AACAC,kBAAU,CAAC,YAAM;AACfrF,cAAI,CAAC8E,OAAL,GAAe,IAAf,CADe,CAEf;;AACA9E,cAAI,CAACmD,KAAL,CAAW,WAAX;AACA,cAAI6B,IAAI,GAAGhF,IAAI,CAACiF,aAAL,CAAmB,KAAnB,CAAX,CAJe,CAKf;;AACAD,cAAI,CAAC7B,KAAL,CAAW,WAAX;AACD,SAPS,EAOP,EAPO,CAAV;AAQA;AACD;AAlB8B;;AACjC,SAAI,IAAImB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGT,WAAnB,EAAgCS,CAAC,EAAjC,EAAqC;AAAA,uBAA7BA,CAA6B;;AAAA,4BAgBjC;AAEH;AACF,GApBD;AAsBA;;;;;AAGAgB,mEAAmB,CAAC3B,GAAD,EAAM;AAAA,WAAO;AAC9B5C,oBAAc,EAAdA;AAD8B,KAAP;AAAA,GAAN,CAAnB;AAIA,sBACE,2DAAC,SAAD;AAAW,OAAG,EAAE6C;AAAhB,IADF;AAGD,CAvF2B,CAA5B;AAwFelB,2GAAK,CAACC,IAAN,CAAWc,SAAX,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3GA;AACA;AACA;AACA;AACA,IAAM8B,gBAAgB,GAAG1C,yDAAM,CAACC,GAAV,oBAQLK,2DAAK,CAAC,aAAD,CARA,EAWTA,2DAAK,CAAC,kBAAD,CAXI,CAAtB;;AA0CA,SAASqC,SAAT,CAAmBlH,KAAnB,EAA0B;AAAA,MAChBmH,WADgB,GACuBnH,KADvB,CAChBmH,WADgB;AAAA,MACH9F,WADG,GACuBrB,KADvB,CACHqB,WADG;AAAA,MACU+F,QADV,GACuBpH,KADvB,CACUoH,QADV;;AAAA,kBAEEnH,sDAAQ,CAAC,EAAD,CAFV;AAAA;AAAA,MAEjBG,KAFiB;AAAA,MAEVC,QAFU;;AAGxB,MAAMgH,YAAY,GAAGjH,KAAK,GAAG;AAAE0G,WAAO,EAAE;AAAX,GAAH,GAA0B;AAAEA,WAAO,EAAE;AAAX,GAApD;AACA,MAAMQ,QAAQ,GAAGvG,oDAAM,EAAvB;AAEAI,yDAAS,CAAC,YAAM;AACd;AACA,QAAIiG,QAAQ,KAAKhH,KAAjB,EAAwB;AACtBkH,cAAQ,CAAC9E,OAAT,CAAiB+E,KAAjB,GAAyBH,QAAzB;AACD;;AACD/G,YAAQ,CAAC+G,QAAD,CAAR;AACD,GANQ,EAMN,CAACA,QAAD,CANM,CAAT;AAQA;;;;AAGA,MAAMI,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBnH,YAAQ,CAAC,EAAD,CAAR;AACAiH,YAAQ,CAAC9E,OAAT,CAAiB+E,KAAjB,GAAyB,EAAzB;AACAD,YAAQ,CAAC9E,OAAT,CAAiBiF,KAAjB;AACD,GAJD;;AAKA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACnF,CAAD,EAAO;AAC1B,QAAInC,KAAK,GAAGmC,CAAC,CAACoF,MAAF,CAASJ,KAArB;AACAlH,YAAQ,CAACD,KAAD,CAAR;AACD,GAHD;AAKA;;;;;AAGA,MAAMwH,mBAAmB,GAAGC,qDAAO,CAAC,YAAM;AACxC,WAAOC,sDAAQ,CAACzG,WAAD,EAAc,GAAd,CAAf;AACD,GAFkC,EAEhC,CAACA,WAAD,CAFgC,CAAnC,CA9BwB,CAiCxB;;AACAF,yDAAS,CAAC,YAAM;AACdyG,uBAAmB,CAACxH,KAAD,CAAnB;AACD,GAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;AAGA,sBACE,2DAAC,gBAAD,qBACE;AAAG,aAAS,EAAC,oBAAb;AAAkC,WAAO,EAAE+G;AAA3C,cADF,eAEE;AAAK,aAAS,EAAC;AAAf,kBACE;AAAG,aAAS,EAAC;AAAb,cADF,eAEE;AAAO,aAAS,MAAhB;AAAiB,QAAI,EAAC,MAAtB;AAA6B,OAAG,EAAEG,QAAlC;AAA4C,eAAW,EAAC,8DAAxD;AAAqE,YAAQ,EAAEI;AAA/E,IAFF,eAGE;AAAG,aAAS,EAAC,sBAAb;AAAoC,WAAO,EAAEF,UAA7C;AAAyD,SAAK,EAAEH;AAAhE,cAHF,CAFF,CADF;AAWD;;AACcjD,2GAAK,CAACC,IAAN,CAAW6C,SAAX,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/FA;AACA;AACA,IAAMa,YAAY,GAAGxD,yDAAM,CAACC,GAAV,mBAAlB;AAOeJ,2GAAK,CAACC,IAAN,CAAW0D,YAAX,CAAf,E","file":"5-17738212304bd11a25d1.js","sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react'\nimport { CSSTransition } from \"react-transition-group\"\nimport { connect } from \"react-redux\"\nimport { Container, ShortcutWrapper, HotKey, List, ListItem } from \"./style\"\nimport { SongItem } from \"application/SongList/style\"\nimport SearchBox from \"baseUI/search-box\"\nimport Scroll from \"baseUI/scroll\"\nimport { getHotKeyWords, getSuggestList } from \"./store/actionCreator\"\nimport LazyLoad, { forceCheck } from \"react-lazyload\"\nimport singerLazyLoadImg from \"./singer.png\"\nimport { isEmptyObject, getName } from \"utils\"\nimport EnterLoading from \"utils/EnterLoading\"\nimport Loading from \"baseUI/loading\"\nimport MusicNote from \"baseUI/music-note\"\nimport {getSongsDetail} from \"../Player/store/actionCreator\"\nfunction Search(props) {\n  const [show, setShow] = useState(false);\n  const [query, setQuery] = useState('');\n  const { hotList, suggestList, songsList, enterLoading, songsCount } = props;\n  const { getHotKeyWordsDispatch, getSuggestListDispatch,getSongsDetailDispatch  } = props;\n\n  const musicNoteRef = useRef();\n\n  const suggests = suggestList.toJS();\n  const songs = songsList.toJS();\n  useEffect(() => {\n    setShow(true);\n    if (!hotList.size) {\n      getHotKeyWordsDispatch();\n    }\n  }, []);\n\n  const handleQuery = (q) => {\n    setQuery(q);\n    if (!q) {\n      return;\n    }\n    getSuggestListDispatch(q);\n\n  }\n  const renderHotKey = () => {\n    const list = hotList ? hotList.toJS() : [];\n    return (\n\n      <ul>\n        {\n          list.map(item => (\n            <li className=\"item border\" key={item.first} onClick={() => setQuery(item.first)}>\n              <span>{item.first}</span>\n            </li>\n          ))\n        }\n      </ul>\n    )\n  }\n  const renderSingers = () => {\n    let singers = suggests.artists;\n    if (!singers || !singers.length) {\n      return;\n    }\n    return (\n      <List>\n        <h3 className=\"title\">相关歌手</h3>\n        {\n          singers.map((item, index) => {\n            return (\n              <ListItem key={item.id} className=\"border-bottom\" onClick={() => enterDetail(item.id)}>\n                <div className=\"img_container\">\n                  <LazyLoad placeholder={<img src={singerLazyLoadImg} alt=\"歌手\" width=\"100%\" height=\"100%\" />}>\n                    <img src={`${item.picUrl}?param=300x300`} width=\"100%\" height=\"100%\" alt=\"歌手\" />\n                  </LazyLoad>\n                </div>\n                <span className=\"name\">歌手 : {item.name}</span>\n              </ListItem>\n            )\n          })\n        }\n      </List>\n    )\n  }\n\n\n  const selectItem = (e, id) => {\n    getSongsDetailDispatch(id);\n    musicNoteRef.current.startAnimation({x : e.nativeEvent.clientX, y : e.nativeEvent.clientY});\n  }\n\n  const renderSongs = () => {\n    if (isEmptyObject(songs) || !songs.songs.length) {\n      return\n    }\n    const list = songs.songs;\n    return (\n      <SongItem style={{ paddingLeft: \".2rem\" }}>\n\n        {\n          list.map((item, index) => (\n            <li key={item.id} onClick={(e) => selectItem(e, item.id)}>\n              <div className=\"info\">\n                <span>{item.name}</span>\n                <span>\n                  {item.ar ? getName(item.ar) : getName(item.artists)} - {item.al ? item.al.name : item.album.name}\n                </span>\n              </div>\n            </li>\n          )\n          )\n        }\n      </SongItem>\n    )\n  }\n  const handleHeaderGoBack = useCallback(() => {\n    setShow(false);\n  }, []);\n  return (\n    <CSSTransition\n      in={show}\n      timeout={300}\n      appear={true}\n      classNames=\"fly\"\n      unmountOnExit\n      onExit={() => props.history.goBack()}\n    >\n      <Container play={songsCount}>\n\n        <div className=\"search_box_wrapper\">\n          <SearchBox\n            handleClick={handleHeaderGoBack}\n            newQuery={query}\n            handleQuery={handleQuery}\n          ></SearchBox>\n        </div>\n        {enterLoading ? <EnterLoading><Loading></Loading></EnterLoading> :\n          <>\n            <ShortcutWrapper shows={!query}>\n              <Scroll>\n                <div>\n                  <HotKey className=\"border-top\">\n                    <h3 className=\"title\">热门搜索</h3>\n                    {renderHotKey()}\n                  </HotKey>\n                </div>\n              </Scroll>\n            </ShortcutWrapper>\n            <ShortcutWrapper shows={query}>\n              <Scroll onScroll={forceCheck}>\n                <div>\n                  {renderSingers()}\n                  {/* {renderAlbum()} */}\n                  {renderSongs()}\n                </div>\n              </Scroll>\n            </ShortcutWrapper>\n          </>\n        }\n        <MusicNote ref={musicNoteRef}></MusicNote>\n      </Container>\n    </CSSTransition>\n  )\n}\n\nconst mapStateToProps = state => ({\n  hotList: state.getIn([\"search\", \"hotList\"]),\n  suggestList: state.getIn([\"search\", \"suggestList\"]),\n  songsList: state.getIn([\"search\", \"songsList\"]),\n  enterLoading: state.getIn([\"search\", \"enterLoading\"]),\n  songsCount : state.getIn([\"player\", \"playList\"]).size\n})\nconst mapDispatchToProps = dispatch => ({\n  getHotKeyWordsDispatch() {\n    dispatch(getHotKeyWords())\n  },\n  getSuggestListDispatch(query) {\n    dispatch(getSuggestList(query))\n  },\n  getSongsDetailDispatch(id){\n    dispatch(getSongsDetail(id))\n  }\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Search));","export default __webpack_public_path__ + \"images/singer-2681a7.png\";","import Styled from \"styled-components\"\nimport style from \"assets/global-style\"\n\n\nexport const Container = Styled.div`\n  position : fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  z-index: 100;\n  overflow : hidden;\n  background: #fcfcfd;\n  transform-origin: right bottom;\n  bottom : ${props => props.play > 0 ? \".6rem\" : 0};\n  &.fly-enter, &.fly-appear{\n    opacity: 0;\n    transform: translate3d(100%, 0, 0);\n  }\n  &.fly-enter-active, &.fly-appear-active{\n    opacity: 1;\n    transition: all .3s;\n    transform: translate3d(0, 0, 0);\n  }\n  &.fly-exit{\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n  &.fly-exit-active{\n    opacity: 0;\n    transition: all .3s;\n    transform: translate3d(100%, 0, 0);\n  }\n`\nexport const ShortcutWrapper = Styled.div`\n  position : absolute;\n  top : .4rem;\n  bottom: 0;\n  width: 100%;\n  display : ${props => props.shows ? \"\" : \"none\"};\n`\nexport const HotKey = Styled.div`\n  margin : 0 .2rem .2rem .2rem;\n  border-color : #ccc;\n  border-style : solid;\n  .title {\n    padding-top: .35rem;\n    margin-bottom: .1rem;\n    font-size: ${style[\"font-size-m\"]};\n    color: #666;\n    font-weight : normal;\n  }\n  .item {\n    display : inline-block;\n    padding: .1rem .15rem;\n    margin: 0 .1rem .06rem 0;\n    background: ${style[\"highlight-background-color\"]};\n    font-size: ${style[\"font-size-m\"]};\n    color: ${style[\"font-color-desc\"]};\n    border-color : #d3d4da;\n    &:before {\n      border-radius: .8rem;\n    }\n  }\n`\nexport const List = Styled.div`\n  display : flex;\n  margin : auto;\n  flex-direction: column;\n  overflow: hidden;\n  .title {\n    margin:.1rem 0 .1rem .1rem;\n    color: #666;\n    font-size: ${style[\"font-size-s\"]};\n  }\n`\nexport const ListItem = Styled.div`\n  display : flex;\n  box-sizing : border-box;\n  flex-direction : row;\n  margin : 0 .05rem;\n  padding : .05rem 0;\n  align-items : center;\n  border-bottom: 1px solid ${style[\"border-color\"]};\n  .img_container {\n    margin-right : .2rem;\n    img {\n      width : .5rem;\n      height : .5rem;\n      border-radius : .03rem;\n    }\n  }\n  .name {\n    font-weight: 500;\n    font-size : ${style[\"font-size-m\"]};\n    color : ${style[\"font-color-desc\"]}\n  }\n`","import Styled from \"styled-components\"\nimport style from \"assets/global-style\"\n\nexport const SongList = Styled.div`\n  background : #fff;\n  opacity: 0.98;\n  border-radius : .1rem;\n  .first_line {\n    display : flex;\n    box-sizing: border-box;\n    padding: .1rem 0;\n    margin-left: .1rem;\n    position: relative;\n    justify-content: space-between;\n    border-bottom-style: solid;\n    border-bottom-color: ${style[\"border-color\"]};\n    .play_all {\n      display: inline-block;\n      line-height: .24rem;\n      color: ${style[\"font-color-desc\"]};\n      i{\n        font-size : .24rem;\n        margin-right: .1rem;\n        vertical-align: top;\n      }\n      >span{\n        vertical-align : top;\n        font-size : .16rem;\n      }\n      .sum {\n        font-size: .12rem;\n        color: ${style[\"font-color-desc-v2\"]};\n      }\n    }\n    .add_list {\n      display : flex;\n      align-items: center;\n      position: absolute;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      width: 1.3rem;\n      line-height: .34rem;\n      background: #d44439;\n      color: ${style[\"font-color-light\"]};\n      font-size: 0;\n      border-radius: .03rem;\n      vertical-align: top;\n      i{\n        vertical-align: top;\n        font-size: .1rem;\n        margin: 0 .05rem 0 .1rem;\n      }\n      span {\n        font-size: .14rem;\n        line-height: .34rem;\n      }\n    }\n  }\n`\nexport const SongItem = Styled.ul`\n  >li {\n    display : flex;\n    align-items : center;\n    height : .6rem;\n    .index {\n      font-size : .16rem;\n      flex-basis: .6rem;\n      width: .60rem;\n      height: .60rem;\n      line-height: .60rem;\n      text-align: center;\n    }\n    .info {\n      box-sizing : border-box;\n      flex: 1;\n      height : 100%;\n      display :flex;\n      flex-direction : column;\n      padding : .05rem 0;\n      justify-content : space-around;\n      border-bottom-style : solid;\n      border-bottom-color : ${style[\"border-color\"]};\n      text-overflow: ellipsis;\n      overflow : hidden;\n      white-space : nowrap; \n      >span{\n        text-overflow : ellipsis;\n        overflow: hidden;\n        white-space : nowrap;\n        &:first-child {\n          font-size : .16rem;\n          color : ${style[\"font-color-desc\"]};\n        }\n        &:last-child {\n          font-size : .12rem;\n          color : ${style[\"font-color-desc-v2\"]};\n        }\n      }\n    }\n  }\n`","import React, { forwardRef, useRef, useEffect , useImperativeHandle } from 'react'\nimport Styled from \"styled-components\"\nimport style from \"assets/global-style\"\nconst Container = Styled.div`\n  .icon_wrapper{\n    position: fixed;\n    z-index: 1000;\n    margin-top: -.1rem;\n    margin-left: -.1rem;\n    color: ${style[\"theme-color\"]};\n    font-size: .14rem;\n    display: none;\n    transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\n    transform: translate3d(0, 0, 0);\n    >div{\n      transition: transform 1s;\n    }\n  }\n`\nconst MusicNote = forwardRef((props, ref) => {\n  const iconsRef = useRef();\n\n  const ICON_NUMBER = 10;\n\n  /* \n    创建节点的函数\n  */\n  const createNode = (txt) => {\n    // 创建icon的内容块\n    const template = `<div class='icon_wrapper'>${txt}</div>`;\n    // 在创建一个节点用来将上面的字符串变为dom节点的\n    let tempNode = document.createElement('div');\n    tempNode.innerHTML = template;\n    // 返回第一个节点就是上面创建的icon内容块区域的节点\n    return tempNode.firstChild;\n  }\n\n/* \n  第一次创建动画的盒子\n*/\n  useEffect(() => {\n    // 首先创建10个存放iconfont图标的盒子，创建10个的原因是首屏展示的做多不会超过10个\n    for (let i = 0; i < ICON_NUMBER; i++) {\n      // 循环创建存放iconfont的盒子\n      let node = createNode(`<div class=\"iconfont\">&#xe642;</div>`);\n      // 放入到icon_wrapper盒子之中\n      iconsRef.current.appendChild(node);\n    }\n    // 将伪数组转为标准数组\n    let domArray = [].slice.call(iconsRef.current.children)\n    // 伪数组循环\n    domArray.forEach(item => {\n      // 每一个iconfont的节点设置是否在运动状态 默认为false\n      item.running = false;\n      // 加入动画监听 动画结束的监听\n      item.addEventListener('transitionend', function () {\n        // 动画结束节点隐藏\n        this.style['display'] = 'none';\n        // 动画移动位置回复初始状态\n        this.style[\"transform\"] = `translate3d(0, 0, 0)`;\n        // 动画运行标识设置为false\n        this.running = false;\n\n        let icon = this.querySelector('div');\n        // 找到这个运动的icon设置动画移动的位置为初始值\n        icon.style[\"transform\"] = `translate3d(0, 0, 0)`;\n      }, false);\n    });\n  }, []);\n\n  \n  /* \n    开启动画的操作\n  */\n  const startAnimation = ({x, y}) => {\n    for(let i = 0; i < ICON_NUMBER; i++) {\n      let domArray = [].slice.call(iconsRef.current.children)\n      let item = domArray[i]\n      // 选择一个空闲的元素来开始动画\n      if (item.running === false) {\n        item.style.left = x / 100 + \"rem\";\n        item.style.top = y / 100 + \"rem\";\n        item.style.display = \"inline-block\";\n        setTimeout(() => {\n          item.running = true;\n          // 外部的盒子实现落下的一个动画 盒子没有固定的宽度所以没法将两个动画放在一起\n          item.style[\"transform\"] = `translate3d(-.4rem, 7.5rem, 0)`;\n          let icon = item.querySelector(\"div\");\n          // icon实现向左移动的效果\n          icon.style[\"transform\"] = `translate3d(-.4rem, 0, 0)`;\n        }, 20);\n        break;\n      }\n    }\n  };\n\n  /* \n    科技将该ref组件的方法提供给外部使用\n  */\n  useImperativeHandle(ref, () => ({\n    startAnimation\n  }));\n\n  return (\n    <Container ref={iconsRef}></Container>\n  )\n})\nexport default React.memo(MusicNote);","import React, { useRef, useEffect, useState, useMemo } from 'react'\nimport Styled from \"styled-components\"\nimport style from \"assets/global-style\"\nimport { debounce } from \"utils\"\nconst SearchBoxWrapper = Styled.div`\n  display : flex;\n  align-items : center;\n  box-sizing : border-box;\n  width : 100%;\n  padding : 0 .06rem;\n  padding-right : .1rem;\n  height : .4rem;\n  background : ${style[\"theme-color\"]};\n  .icon-back{\n    font-size: .20rem;\n    color: ${style[\"font-color-light\"]};\n    padding-right : .06rem;\n  }\n  .inputCover {\n    display : flex;\n    align-items : center;\n    height : .3rem;\n    border-radius : .2rem;\n    background : #ebecec;\n    flex : 1;\n    .search {\n      width : .16rem;\n      height : .16rem;\n      color : #ccc;\n      margin: 0 .08rem;\n    }\n    input {\n      height: 100%;\n      font-size : .14rem;\n      color : #333;\n      border : 0;\n      outline : none;\n      width: 100%;\n      background rgba(0,0,0,0)\n    }\n    .icon-delete{\n      color : #bbb;\n      margin-right : .1rem;\n    }\n  }\n`\nfunction SearchBox(props) {\n  const { handleClick, handleQuery, newQuery } = props;\n  const [query, setQuery] = useState('');\n  const displayStyle = query ? { display: \"block\" } : { display: \"none\" }\n  const queryRef = useRef();\n\n  useEffect(() => {\n    // 点击热门和输入的不一样的时候\n    if (newQuery !== query) {\n      queryRef.current.value = newQuery;\n    }\n    setQuery(newQuery);\n  }, [newQuery])\n\n  /* \n    点击删除按钮清空搜索内容，复原原来的状态\n  */\n  const clearQuery = () => {\n    setQuery(\"\")\n    queryRef.current.value = \"\";\n    queryRef.current.focus();\n  }\n  const handleChange = (e) => {\n    let query = e.target.value;\n    setQuery(query);\n  }\n\n  /* \n    处理搜索逻辑的函数进行去抖\n  */\n  const handleQueryDebounce = useMemo(() => {\n    return debounce(handleQuery, 500);\n  }, [handleQuery])\n  // 处理搜索框内容发生改变之后出发查询方法\n  useEffect(() => {\n    handleQueryDebounce(query);\n  }, [query])\n  return (\n    <SearchBoxWrapper>\n      <i className=\"iconfont icon-back\" onClick={handleClick}>&#xe655;</i>\n      <div className=\"inputCover\">\n        <i className=\"iconfont search\">&#xe62b;</i>\n        <input autoFocus type=\"text\" ref={queryRef} placeholder=\"搜索歌曲、歌手、专辑\" onChange={handleChange} />\n        <i className=\"iconfont icon-delete\" onClick={clearQuery} style={displayStyle}>&#xe600;</i>\n\n      </div>\n    </SearchBoxWrapper>\n  )\n}\nexport default React.memo(SearchBox);","import Styled from \"styled-components\"\nimport React from \"react\"\nconst EnterLoading = Styled.div`\n    position: fixed;\n    left: 0; right: 0; top: 0; bottom: 0;\n    width: 1rem;\n    height: 1rem;\n    margin: auto;\n`\nexport default React.memo(EnterLoading)"],"sourceRoot":""}