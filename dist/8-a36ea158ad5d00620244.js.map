{"version":3,"sources":["webpack:///./src/application/MvDetail/index.jsx","webpack:///./src/application/MvDetail/style.js","webpack:///./src/baseUI/header/index.jsx"],"names":["MvDetail","props","match","immuableMvDetail","mvDetail","immuableUrl","url","toJS","getMvDetailDispatch","useState","showStatus","setShowStatus","headerRef","useRef","handleBack","useCallback","useEffect","params","id","history","goBack","data","name","artistName","mapStateToProps","state","getIn","mapStateToDispatch","dispatch","getMvDetail","connect","React","memo","MvDetailStyled","styled","div","ContainerHeader","Styled","header","Header","forwardRef","ref","title","handleClick","isMarquee","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;AAAA,MACbC,KADa,GAC2CD,KAD3C,CACbC,KADa;AAAA,MACIC,gBADJ,GAC2CF,KAD3C,CACNG,QADM;AAAA,MAC2BC,WAD3B,GAC2CJ,KAD3C,CACsBK,GADtB;AAErB,MAAIF,QAAQ,GAAGD,gBAAgB,CAACI,IAAjB,EAAf;AACA,MAAID,GAAG,GAAGD,WAAW,CAACE,IAAZ,EAAV;AAHqB,MAIbC,mBAJa,GAIWP,KAJX,CAIbO,mBAJa;;AAAA,kBAKeC,sDAAQ,CAAC,IAAD,CALvB;AAAA;AAAA,MAKdC,UALc;AAAA,MAKFC,aALE;;AAMrB,MAAMC,SAAS,GAAGC,oDAAM,EAAxB;AACA,MAAMC,UAAU,GAAGC,yDAAW,CAAC,YAAM;AACjCJ,iBAAa,CAAC,KAAD,CAAb;AACH,GAF6B,CAA9B;AAIA;;;;AAGAK,yDAAS,CAAC,YAAM;AACZR,uBAAmB,CAACN,KAAK,CAACe,MAAN,CAAaC,EAAd,CAAnB;AACH,GAFQ,EAEN,CAAChB,KAAK,CAACe,MAAN,CAAaC,EAAd,CAFM,CAAT;AAGA,sBAEI,2DAAC,oEAAD;AACI,UAAIR,UADR;AAEI,WAAO,EAAE,GAFb;AAGI,UAAM,EAAE,IAHZ;AAII,cAAU,EAAC,KAJf;AAKI,gBAAY,MALhB;AAMI,iBAAa,MANjB;AAOI,YAAQ,EAAET,KAAK,CAACkB,OAAN,CAAcC;AAP5B,kBASI,2DAAC,qDAAD,qBACI,qIACI,2DAAC,qDAAD;AACI,eAAW,EAAEN,UADjB;AAEI,SAAK,EAAEV,QAAQ,CAACiB,IAAT,CAAcC,IAFzB;AAGI,OAAG,EAAEV;AAHT,IADJ,eAMI;AAAK,aAAS,EAAC;AAAf,kBACI;AAAO,YAAQ,MAAf;AAAgB,OAAG,EAAEN,GAAG,CAACe,IAAJ,CAASf;AAA9B,IADJ,eAEI;AAAK,aAAS,EAAC;AAAf,kBACI;AAAM,aAAS,EAAC;AAAhB,KAA0BF,QAAQ,CAACiB,IAAT,CAAcC,IAAxC,CADJ,eAEI;AAAM,aAAS,EAAC;AAAhB,KAA8BlB,QAAQ,CAACiB,IAAT,CAAcE,UAA5C,CAFJ,CAFJ,CANJ,CADJ,CATJ,CAFJ;AA6BH;;AACD,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAC9BrB,YAAQ,EAAEqB,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,EAAa,UAAb,CAAZ,CADoB;AAE9BpB,OAAG,EAAEmB,KAAK,CAACC,KAAN,CAAY,CAAC,UAAD,EAAa,KAAb,CAAZ;AAFyB,GAAL;AAAA,CAA7B;;AAIA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD;AAAA,SAAe;AACtCpB,uBADsC,+BAClBU,EADkB,EACd;AACpBU,cAAQ,CAACC,wEAAW,CAACX,EAAD,CAAZ,CAAR;AACH;AAHqC,GAAf;AAAA,CAA3B;;AAKeY,0HAAO,CAACN,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CI,4CAAK,CAACC,IAAN,CAAWhC,QAAX,CAA7C,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/DA;AAEO,IAAMiC,cAAc,GAAGC,yDAAM,CAACC,GAAV,mBAApB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFP;AACA;AAEA,IAAMC,eAAe,GAAGC,yDAAM,CAACC,MAAV,mBAArB;AAqBA,IAAMC,MAAM,GAAGC,wDAAU,CAAC,UAACvC,KAAD,EAAQwC,GAAR,EAAgB;AAAA,MAChCC,KADgC,GACEzC,KADF,CAChCyC,KADgC;AAAA,MACzBC,WADyB,GACE1C,KADF,CACzB0C,WADyB;AAAA,MACZC,SADY,GACE3C,KADF,CACZ2C,SADY;AAExC,sBACE,2DAAC,eAAD;AAAiB,OAAG,EAAEH;AAAtB,kBACE;AAAG,aAAS,EAAC,eAAb;AAA6B,WAAO,EAAEE;AAAtC,cADF,EAGI;AACAC,WAAS,gBAAG,yFAAS,uEAAKF,KAAL,CAAT,CAAH,gBACP,uEAAKA,KAAL,CALN,CADF;AAUD,CAZwB,CAAzB;AAcAH,MAAM,CAACM,YAAP,GAAsB;AACpBF,aAAW,EAAE,uBAAM,CAElB,CAHmB;AAIpBD,OAAK,EAAE;AAJa,CAAtB;AAUeX,2GAAK,CAACC,IAAN,CAAWO,MAAX,CAAf,E","file":"8-a36ea158ad5d00620244.js","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react'\nimport { connect } from \"react-redux\"\nimport { CSSTransition } from \"react-transition-group\"\nimport { MvDetailStyled } from \"./style\"\nimport Header from \"baseUI/header\"\nimport { getMvDetail } from './store/actionCreator'\n\nfunction MvDetail(props) {\n    const { match, mvDetail: immuableMvDetail, url: immuableUrl } = props;\n    let mvDetail = immuableMvDetail.toJS()\n    let url = immuableUrl.toJS()\n    const { getMvDetailDispatch } = props;\n    const [showStatus, setShowStatus] = useState(true)\n    const headerRef = useRef()\n    const handleBack = useCallback(() => {\n        setShowStatus(false)\n    })\n\n    /**\n     * 第一次进入需要请求获取mv详情的接口\n     */\n    useEffect(() => {\n        getMvDetailDispatch(match.params.id)\n    }, [match.params.id])\n    return (\n\n        <CSSTransition\n            in={showStatus}\n            timeout={300}\n            appear={true}\n            classNames=\"fly\"\n            mountOnEnter\n            unmountOnExit\n            onExited={props.history.goBack}\n        >\n            <MvDetailStyled>\n                <>\n                    <Header\n                        handleClick={handleBack}\n                        title={mvDetail.data.name}\n                        ref={headerRef}\n                    ></Header>\n                    <div className=\"mvDetail\">\n                        <video controls src={url.data.url}></video>\n                        <div className=\"mvInfo\">\n                            <span className=\"mvName\">{mvDetail.data.name}</span>\n                            <span className=\"artistName\">{mvDetail.data.artistName}</span>\n                        </div>\n                    </div>\n                </>\n            </MvDetailStyled>\n        </CSSTransition>\n    )\n}\nconst mapStateToProps = state => ({\n    mvDetail: state.getIn([\"mvDetail\", \"mvDetail\"]),\n    url: state.getIn([\"mvDetail\", \"url\"])\n})\nconst mapStateToDispatch = (dispatch) => ({\n    getMvDetailDispatch(id) {\n        dispatch(getMvDetail(id))\n    }\n})\nexport default connect(mapStateToProps, mapStateToDispatch)(React.memo(MvDetail))","import styled from \"styled-components\"\n\nexport const MvDetailStyled = styled.div`\n  position : fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom : 0;\n  z-index: 100;\n  width: 100%;\n  overflow: hidden;\n  background : #f2f3f4;\n  transform-origin : right bottom;\n  >header{\n      color: inherit;\n  }\n  .mvDetail{\n      padding-top: 0.49rem;\n      video{\n          width: 100%;\n          height: auto;\n      }\n      .mvInfo{\n          display: flex;\n          padding: 0 .1rem;\n          flex-direction: column;\n          .mvName {\n              color: #000;\n              font-weight: 600;\n              font-size: 14px;\n          }\n          .artistName{\n              font-size: 12px;\n              color: #666;\n              margin-top: .03rem;\n          }\n      }\n  }\n  &.fly-enter, &.fly-appear{\n    transform: rotateZ(30deg) translate3d(100%, 0, 0)\n  }\n  &.fly-enter-active, &.fly-appear-active{\n      transition: transform 0.3s;\n      transform: rotateZ(0deg) translate3d(0, 0, 0)\n  }\n  &.fly-exit{\n      transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit-active{\n   transition: transform 0.3s;\n   transform: rotateZ(30deg) translate3d(100%, 0, 0)   \n  }\n`","import React, { forwardRef } from 'react'\nimport Styled from \"styled-components\"\nimport PropTypes from \"prop-types\"\nconst ContainerHeader = Styled.header`\n  position : fixed;\n  padding : .05rem .1rem;\n  padding-top : 0;\n  height : .44rem;\n  width : 100%;\n  z-index: 100;\n  display : flex;\n  line-height : .44rem;\n  color: #f1f1f1;\n  >i{\n    margin-right: .05rem;\n    font-size: .2rem;\n    width: .2rem;\n  }\n  h1{\n    font-size: .16rem;\n    font-weight: 700;\n    margin : 0;\n  }\n`\nconst Header = forwardRef((props, ref) => {\n  const { title, handleClick, isMarquee } = props;\n  return (\n    <ContainerHeader ref={ref}>\n      <i className=\"iconfont back\" onClick={handleClick}>&#xe655;</i>\n      {\n        // eslint-disable-next-line\n        isMarquee ? <marquee><h1>{title}</h1></marquee> :\n          <h1>{title}</h1>\n      }\n    </ContainerHeader>\n  )\n});\n\nHeader.defaultProps = {\n  handleClick: () => {\n\n  },\n  title: '标题',\n}\nHeader.propTypes = {\n  handleClick: PropTypes.func,\n  title: PropTypes.string\n}\nexport default React.memo(Header)"],"sourceRoot":""}